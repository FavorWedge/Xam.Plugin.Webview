<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xam.Plugin.WebView: WebView Plugin for Xamarin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xam.Plugin.WebView
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">Simple Webview for Xamarin.Forms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">WebView Plugin for Xamarin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>/// Please call this before Forms is initialized to make sure assemblies link properly. /// Make sure to perform this step on each platform. /// </p>
<p>Lightweight cross platform WebView designed to leverage the native WebView components in Android, iOS, and Windows to provide enhanced functionality over the base control.</p>
<p><a href="https://forums.xamarin.com/discussion/87935/new-simple-webview-plugin-for-forms">Xamarin Forums Link</a></p>
<h3>This is a work in development</h3>
<p>This WebView is the brain child of a need for a lightweight solution to supply in my own applications and is purely open source for you guys to use. If this helps you in anyway then please do support open source developers such as myself! PayPal: <a href="#" onclick="location.href='mai'+'lto:'+'rya'+'nd'+'ixo'+'n1'+'993'+'@g'+'mai'+'l.'+'com'; return false;">ryand<span style="display: none;">.nosp@m.</span>ixon<span style="display: none;">.nosp@m.</span>1993@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a></p>
<h2>New in 1.7.*</h2>
<h3>Request Headers</h3>
<p>Headers can now be sent up as part of the HTTP request. To add a header, simple add them to the RequestHeaders dictionary property on the FormsWebView object. </p><div class="fragment"><div class="line">{c#}</div><div class="line">var fwv = new FormsWebView();</div><div class="line">fwv.RequestHeaders.Add(&quot;Key&quot;, &quot;Value&quot;);</div></div><!-- fragment --><h2>Why I made this?</h2>
<p>Hybrid WebViews are common across many applications these days with many different implementations available on the Web. Unfortunately for Xamarin, generally the only common HybridWebView is included as part of the XLabs toolset which gives the user the extra bloat of the additional components, as well as the problems associated with setting up this framework.</p>
<p><b>Forms WebView</b> is designed to be a lightweight alternative with only minor configuration needed to be performed by the developer before giving them access to a denser API allowing them more flexibility in creating hybrid applications in the Xamarin platform.</p>
<h2>Setup</h2>
<ul>
<li>NuGET package available here: <a href="https://www.nuget.org/packages/Xam.Plugin.WebView.WebView">https://www.nuget.org/packages/Xam.Plugin.WebView.WebView</a></li>
<li>Install into both your PCL and Platform projects</li>
<li>On Android, include the Android.Mono.Export reference for the Javascript Interface</li>
</ul>
<div class="fragment"><div class="line">{c#}</div><div class="line">///</div><div class="line">FormsWebViewRenderer.Init();</div><div class="line">Xamarin.Forms.Forms.Init(e);</div></div><!-- fragment --><h2>Build Status</h2>
<ul>
<li>Jenkins build history can be found here: TBA</li>
</ul>
<h2>Platform Support</h2>
<p><em>Please note: I have only put in platforms I have tested myself.</em></p><ul>
<li>Xamarin.iOS : iOS 9 +</li>
<li>Xamarin.Droid : API 17 +</li>
<li>Windows Phone/Store RT : 8.1 +</li>
<li>Windows UWP : 10 +</li>
<li>Xamarin Forms : 2.3.3.180</li>
</ul>
<h3>Known Limitations</h3>
<ul>
<li>Android API level 22 and below will not be able to report HTTPErrors correctly. This is down to the lack of API support from Google up until this release. If you need a way around this, you can add in a hack using System.Web during the OnNavigationRequest.</li>
</ul>
<h2>API Usage</h2>
<p>### New! </p><div class="fragment"><div class="line">{c#}</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// Bind an action to a Javascript function</div><div class="line">/// &lt;/summary&gt;</div><div class="line">FormsWebView WebView = new FormsWebView();</div><div class="line">WebView.RegisterCallback(&quot;test&quot;, (str) =&gt; Debug.WriteLine(str));</div><div class="line">WebView.RemoveCallback(&quot;test&quot;);</div></div><!-- fragment --><div class="fragment"><div class="line">{c#}</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// Initialize the WebView, Navigation will occur when the Source is changed so make sure to set the BaseUrl and ContentType prior.</div><div class="line">/// &lt;/summary&gt;</div><div class="line">FormsWebView WebView = new FormsWebView() {</div><div class="line">    ContentType = WebContentType.Internet,</div><div class="line">    Source = &quot;http://www.somewebsite.com&quot;</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">{c#}</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// If you wish to further modify the native control, then you can bind to these events in your platform specific code.</div><div class="line">/// These events will be called when the control is preparing and ready.</div><div class="line">/// &lt;/summary&gt;</div><div class="line">FormsWebViewRenderer.OnControlChanging += ModifyControlBeforeReady;</div><div class="line">FormsWebViewRenderer.OnControlChanged += ModifyControlAfterReady;</div></div><!-- fragment --><div class="fragment"><div class="line">{c#}</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// Attach events using a instance of the WebView.</div><div class="line">/// &lt;/summary&gt;</div><div class="line">WebView.OnNavigationStarted += OnNavigationStarted;</div><div class="line">WebView.OnNavigationCompleted += OnNavigationComplete;</div><div class="line">WebView.OnContentLoaded += OnContentLoaded;</div><div class="line">WebView.OnJavascriptResponse += OnJavascriptResponse;</div></div><!-- fragment --><div class="fragment"><div class="line">{c#}</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// You can cancel a URL from being loaded by returning a delegate with the cancel boolean set to true.</div><div class="line">/// &lt;/summary&gt;</div><div class="line">private NavigationRequestedDelegate OnNavigationStarted(NavigationRequestedDelegate eventObj)</div><div class="line">{</div><div class="line">    if (eventObj.Source == &quot;www.somebadwebsite.com&quot;)</div><div class="line">        eventObj.Cancel = true;</div><div class="line">    return eventObj;</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">{c#}</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// To return a string to c#, simple invoke the csharp(str) method.</div><div class="line">/// &lt;/summary&gt;</div><div class="line">private void OnNavigationComplete(NavigationCompletedDelegate eventObj)</div><div class="line">{</div><div class="line">    System.Diagnostics.Debug.WriteLine(string.Format(&quot;Load Complete: {0}&quot;, eventObj.Sender.Source));</div><div class="line">}</div><div class="line"></div><div class="line">/// &lt;summary&gt;</div><div class="line">/// RUN ALL JAVASCRIPT HERE</div><div class="line">/// &lt;/summary&gt;</div><div class="line">private void OnContentLoaded(ContentLoadedDelegate eventObj)</div><div class="line">{</div><div class="line">    System.Diagnostics.Debug.WriteLine(string.Format(&quot;DOM Ready: {0}&quot;, eventObj.Sender.Source));</div><div class="line">    eventObj.Sender.InjectJavascript(&quot;csharp(&#39;Testing&#39;);&quot;);</div><div class="line">}</div></div><!-- fragment --><p><b>Local File Locations</b> To modify the file locations, change the BaseUrl in each platforms renderer</p><ul>
<li><b>iOS</b>: Resources Folder as a bundle resource</li>
<li><b>Android</b>: Assets folder as an Android Asset</li>
<li><b>Windows</b>: Root folder as content</li>
</ul>
<h2>Feature Requests</h2>
<p>DM me on LinkedIn: <a href="http://linkedin.radsrc.com">http://linkedin.radsrc.com</a></p>
<h2>Notes</h2>
<p><b>For iOS 9 onwards, if you wish to access unsecure sites you may need to configure or disable ATS</b> </p><div class="fragment"><div class="line">&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;</div><div class="line">&lt;dict&gt;</div><div class="line">&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true/&gt;</div><div class="line">&lt;/dict&gt;</div></div><!-- fragment --><p><b>For Android make sure to add the "Internet" property to your manifest.</b></p>
<p><b>For Windows make sure to add the websites to your appxmanifest ContentUris to allow JS invoking.</b> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
